<?xml version="1.0" encoding="UTF-8"?>
<mujoco model="thunder">
  <compiler angle="radian" meshdir="../meshes/" eulerseq="zyx"/>
  <option timestep='0.001' iterations='50' solver='PGS' gravity='0 0 -9.81'>
    <flag frictionloss="enable" sensor="enable"/>
  </option>
  <visual>
    <quality shadowsize="4096"/>
    <map znear="0.05"/>
  </visual>

  <default>
    <joint limited="true"/>
    <motor ctrllimited="true"/>
    <geom condim="4" contype="1" conaffinity="15" solref="0.001 2" friction="0.9 0.2 0.2"/>
    <equality solref="0.001 2"/>
    <default class="leg_joint_param">
      <joint damping="0.01" frictionloss="0.01" armature="0.01"/>
    </default>
  </default>

  <statistic meansize="0.15" extent="1.0" center="0.0 0.0 0.15"/>
  <asset>
    <mesh name="base_link" file="base_link.STL"/>
    <mesh name="FR_hip" file="FR_hip.STL"/>
    <mesh name="FR_thigh" file="FR_thigh.STL"/>
    <mesh name="FR_calf" file="FR_calf.STL"/>
    <mesh name="FR_foot" file="FR_foot.STL"/>
    <mesh name="FL_hip" file="FL_hip.STL"/>
    <mesh name="FL_thigh" file="FL_thigh.STL"/>
    <mesh name="FL_calf" file="FL_calf.STL"/>
    <mesh name="FL_foot" file="FL_foot.STL"/>
    <mesh name="RR_hip" file="RR_hip.STL"/>
    <mesh name="RR_thigh" file="RR_thigh.STL"/>
    <mesh name="RR_calf" file="RR_calf.STL"/>
    <mesh name="RR_foot" file="RR_foot.STL"/>
    <mesh name="RL_hip" file="RL_hip.STL"/>
    <mesh name="RL_thigh" file="RL_thigh.STL"/>
    <mesh name="RL_calf" file="RL_calf.STL"/>
    <mesh name="RL_foot" file="RL_foot.STL"/>
    <material name="matplane" reflectance="0.3" texture="texplane" texrepeat="1 1" texuniform="true"/>
    <material name="matgeom" texture="texgeom" texuniform="true" rgba="0.8 0.6 .4 1"/>
    <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 0.15 0.2" width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>  
    <texture name="texgeom" type="cube" builtin="flat" mark="cross" width="127" height="1278" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" markrgb="1 1 1" random="0.01"/>
    <texture type="skybox" builtin="gradient" rgb1="1 1 1" rgb2=".6 .8 1" width="256" height="256"/>
  </asset>

  <worldbody>
    <light directional="true" diffuse=".4 .4 .4" specular="0.1 0.1 0.1" pos="0 0 5.0" dir="0 0 -1" castshadow="false"/>
    <light directional="true" diffuse=".6 .6 .6" specular="0.2 0.2 0.2" pos="0 0 4" dir="0 0 -1"/>
    <geom name="ground" type="plane" size="0 0 1" pos="0.001 0 0" quat="1 0 0 0" material="matplane" condim="1" conaffinity='15'/>
    <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="base_link"/>
    <geom size="0.225 0.125 0.075" pos="0.021228 0.001573 0.066239" type="box" rgba="0.2 0.2 0.2 1"/>
    <body name="base_link" pos='0 0 0.55'>
      <site name='imu' size='0.01' pos='0.0 0 0.0' quat='1 0 0 0'/>
      <inertial pos="0.021228 0.001573 0.066239" quat="1 0 0 0" mass="15.0" diaginertia="0.35 0.25 0.15"/>
      <joint name="floating_base_joint" type="free" limited='false'/>
      <body name="FR_hip" pos="0.25292 -0.065 0.075">
      <inertial pos="0.070843 -0.050619 -0.00078558" quat="0.57521 0.569776 0.417105 0.412932" mass="1.6657" diaginertia="0.00424084 0.00325492 0.00243424"/>
      <joint name="FR_hip_joint" pos="0 0 0" axis="-1 0 0" range="-0.4 0.4" actuatorfrcrange="-100 100" class="leg_joint_param"/>
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FR_hip"/>
      <geom size="0.06 0.03" pos="0.070843 -0.055619 -0.00078558" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
      <body name="FR_thigh" pos="0.078 -0.0795 0">
        <inertial pos="-0.1947 -0.027164 -0.022587" quat="0.512214 0.453419 0.486579 0.543405" mass="2.40385" diaginertia="0.0281689 0.0261953 0.00330078"/>
        <joint name="FR_thigh_joint" pos="0 0 0" axis="0 1 0" range="-3.14 0" actuatorfrcrange="-100 100" class="leg_joint_param"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FR_thigh"/>
        <geom size="0.1 0.02 0.03" pos="-0.2047 -0.027164 -0.022587" type="box" rgba="0.2 0.2 0.2 1"/>
        <body name="FR_calf" pos="-0.24825 -0.0555 -0.0295">
          <inertial pos="0.17734 -0.029035 0.012098" quat="0.528067 0.497666 0.467261 0.505114" mass="1.89382" diaginertia="0.024511 0.0234843 0.00220268"/>
          <joint name="FR_calf_joint" pos="0 0 0" axis="0 1 0" range="0 3.14" actuatorfrcrange="-100 100" class="leg_joint_param"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FR_calf"/>
          <geom size="0.14 0.025 0.025" pos="0.17734 -0.029035 0.012098" type="box" rgba="0.2 0.2 0.2 1"/>
          <body name="FR_foot" pos="0.24942 -0.061 0.017">
            <inertial pos="-5.9758e-09 -0.029314 -2.9377e-09" quat="0.707107 0 0 0.707107" mass="0.594532" diaginertia="0.002168 0.001179 0.001179"/>
            <joint name="FR_foot_joint" type="hinge" pos="0 0 0" axis="0 -1 0" limited="false" actuatorfrcrange="-60 60" class="leg_joint_param"/>
            <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FR_foot"/>
            <geom size="0.085 0.02" pos="0 -0.029314 0" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
          </body>
        </body>
      </body>
    </body>
    <body name="FL_hip" pos="0.25292 0.065 0.075">
      <inertial pos="0.070843 0.050619 0.00078558" quat="0.417105 0.412932 0.57521 0.569776" mass="1.6657" diaginertia="0.00424084 0.00325492 0.00243424"/>
      <joint name="FL_hip_joint" pos="0 0 0" axis="-1 0 0" range="-0.4 0.4" actuatorfrcrange="-100 100" class="leg_joint_param"/>
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FL_hip"/>
      <geom size="0.06 0.03" pos="0.070843 0.055619 0.00078558" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
      <body name="FL_thigh" pos="0.078 0.0795 0">
        <inertial pos="-0.19436 0.027164 -0.022887" quat="0.540965 0.488342 0.450272 0.515882" mass="2.40385" diaginertia="0.0280908 0.0260632 0.00335803"/>
        <joint name="FL_thigh_joint" pos="0 0 0" axis="0 -1 0" range="0 3.14" actuatorfrcrange="-100 100" class="leg_joint_param"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FL_thigh"/>
        <geom size="0.1 0.02 0.03" pos="-0.20436 0.027164 -0.022887" type="box" rgba="0.2 0.2 0.2 1"/>
        <body name="FL_calf" pos="-0.24825 0.0555 -0.0295">
          <inertial pos="0.1774 0.029035 0.0121" quat="0.505154 0.467265 0.497687 0.528006" mass="1.89382" diaginertia="0.0245259 0.0234992 0.0022029"/>
          <joint name="FL_calf_joint" pos="0 0 0" axis="0 -1 0" range="-3.14 0" actuatorfrcrange="-100 100" class="leg_joint_param"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FL_calf"/>
          <geom size="0.14 0.025 0.025" pos="0.1774 0.029035 0.0121" type="box" rgba="0.2 0.2 0.2 1"/>
          <body name="FL_foot" pos="0.24942 0.061 0.017">
            <inertial pos="5.9758e-09 0.029314 -2.9377e-09" quat="0.707107 0 0 0.707107" mass="0.594532" diaginertia="0.002168 0.001179 0.001179"/>
            <joint name="FL_foot_joint" type="hinge" pos="0 0 0" axis="0 1 0" limited="false" actuatorfrcrange="-60 60" class="leg_joint_param"/>
            <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="FL_foot"/>
            <geom size="0.085 0.02" pos="0 0.029314 0" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
          </body>
        </body>
      </body>
    </body>
    <body name="RR_hip" pos="-0.22608 -0.065 0.075">
      <inertial pos="-0.070843 -0.050619 0.00078559" quat="0.412932 0.417105 0.569776 0.57521" mass="1.6657" diaginertia="0.00424084 0.00325492 0.00243424"/>
      <joint name="RR_hip_joint" pos="0 0 0" axis="1 0 0" range="-0.4 0.4" actuatorfrcrange="-100 100" class="leg_joint_param"/>
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RR_hip"/>
      <geom size="0.06 0.03" pos="-0.070843 -0.055619 0.00078559" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
      <body name="RR_thigh" pos="-0.078 -0.0795 0">
        <inertial pos="0.19437 -0.027164 -0.025237" quat="0.483974 0.545505 0.516251 0.449087" mass="2.40385" diaginertia="0.0281689 0.026195 0.00330109"/>
        <joint name="RR_thigh_joint" pos="0 0 0" axis="0 1 0" range="0 3.14" actuatorfrcrange="-100 100" class="leg_joint_param"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RR_thigh"/>
        <geom size="0.125 0.025 0.03" pos="0.16437 -0.027164 -0.025237" type="box" rgba="0.2 0.2 0.2 1"/>
        <body name="RR_calf" pos="0.24825 -0.0555 -0.0295">
          <inertial pos="-0.17705 -0.029035 0.016422" quat="0.460779 0.511211 0.533638 0.491504" mass="1.89382" diaginertia="0.0245258 0.023499 0.0022032"/>
          <joint name="RR_calf_joint" pos="0 0 0" axis="0 1 0" range="-3.14 0" actuatorfrcrange="-100 100" class="leg_joint_param"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RR_calf"/>
          <geom size="0.14 0.025 0.025" pos="-0.17705 -0.029035 0.016422" type="box" rgba="0.2 0.2 0.2 1"/>
          <body name="RR_foot" pos="-0.24893 -0.061 0.023077">
            <inertial pos="-5.9758e-09 -0.029314 -2.9377e-09" quat="0.707107 0 0 0.707107" mass="0.594532" diaginertia="0.002168 0.001179 0.001179"/>
            <joint name="RR_foot_joint" type="hinge" pos="0 0 0" axis="0 -1 0" limited="false" actuatorfrcrange="-60 60" class="leg_joint_param"/>
            <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RR_foot"/>
            <geom size="0.085 0.02" pos="0 -0.029314 0" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
          </body>
        </body>
      </body>
    </body>
    <body name="RL_hip" pos="-0.22608 0.065 0.075">
      <inertial pos="-0.070843 0.050619 -0.00078559" quat="0.569776 0.57521 0.412932 0.417105" mass="1.6657" diaginertia="0.00424084 0.00325492 0.00243424"/>
      <joint name="RL_hip_joint" pos="0 0 0" axis="1 0 0" range="-0.4 0.4" actuatorfrcrange="-100 100" class="leg_joint_param"/>
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RL_hip"/>
      <geom size="0.06 0.03" pos="-0.070843 0.055619 -0.00078559" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
      <body name="RL_thigh" pos="-0.078 0.0795 0">
        <inertial pos="0.1947 0.027164 -0.022587" quat="0.453419 0.512214 0.543405 0.486579" mass="2.40385" diaginertia="0.0281689 0.0261953 0.00330078"/>
        <joint name="RL_thigh_joint" pos="0 0 0" axis="0 -1 0" range="-3.14 0" actuatorfrcrange="-100 100" class="leg_joint_param"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RL_thigh"/>
        <geom size="0.125 0.025 0.03" pos="0.1647 0.027164 -0.022587" type="box" rgba="0.2 0.2 0.2 1"/>
        <body name="RL_calf" pos="0.24825 0.0555 -0.0295">
          <inertial pos="-0.1774 0.029035 0.012082" quat="0.494981 0.530898 0.502076 0.470171" mass="1.89382" diaginertia="0.0245258 0.0234991 0.00220312"/>
          <joint name="RL_calf_joint" pos="0 0 0" axis="0 -1 0" range="0 3.14" actuatorfrcrange="-100 100" class="leg_joint_param"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RL_calf"/>
          <geom size="0.14 0.025 0.025" pos="-0.1774 0.029035 0.012082" type="box" rgba="0.2 0.2 0.2 1"/>
          <body name="RL_foot" pos="-0.24942 0.061 0.017">
            <inertial pos="5.9758e-09 0.029314 -2.9377e-09" quat="0.707107 0 0 0.707107" mass="0.594532" diaginertia="0.002168 0.001179 0.001179"/>
            <joint name="RL_foot_joint" type="hinge" pos="0 0 0" axis="0 1 0" limited="false" actuatorfrcrange="-60 60" class="leg_joint_param"/>
            <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.2 0.2 0.2 1" mesh="RL_foot"/>
            <geom size="0.085 0.02" pos="0 0.029314 0" quat="0.707105 0.707108 0 0" type="cylinder" rgba="0.2 0.2 0.2 1"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
  
  <actuator>
    <!-- FR leg joints - 100Nm -->
    <motor name="FR_hip_joint" joint="FR_hip_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="FR_thigh_joint" joint="FR_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="FR_calf_joint" joint="FR_calf_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    
    <!-- FL leg joints - 100Nm -->
    <motor name="FL_hip_joint" joint="FL_hip_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="FL_thigh_joint" joint="FL_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="FL_calf_joint" joint="FL_calf_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>

    <!-- RR leg joints - 100Nm -->
    <motor name="RR_hip_joint" joint="RR_hip_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="RR_thigh_joint" joint="RR_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="RR_calf_joint" joint="RR_calf_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>

    <!-- RL leg joints - 100Nm -->
    <motor name="RL_hip_joint" joint="RL_hip_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="RL_thigh_joint" joint="RL_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>
    <motor name="RL_calf_joint" joint="RL_calf_joint" gear="1" ctrllimited="true" ctrlrange="-100 100"/>

    <!-- Wheel joints - 60Nm -->
    <motor name="FR_foot_joint" joint="FR_foot_joint" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
    <motor name="FL_foot_joint" joint="FL_foot_joint" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
    <motor name="RR_foot_joint" joint="RR_foot_joint" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
    <motor name="RL_foot_joint" joint="RL_foot_joint" gear="1" ctrllimited="true" ctrlrange="-60 60"/>
   
  </actuator>

  <sensor>
    <framequat     name='orientation' objtype='site' noise='0.001' objname='imu'/>
    <framepos     name='position' objtype='site' noise='0.001' objname='imu'/>
    <gyro          name='angular-velocity'    site='imu' noise='0.005' cutoff='34.9'/>
    <velocimeter   name='linear-velocity'     site='imu' noise='0.001' cutoff='30'/>
    <accelerometer name='linear-acceleration' site='imu' noise='0.005' cutoff='157'/>
    <magnetometer  name='magnetometer'        site='imu'/>
  </sensor>
</mujoco>
